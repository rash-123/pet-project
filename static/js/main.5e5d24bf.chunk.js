(this["webpackJsonpadopt-project"]=this["webpackJsonpadopt-project"]||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(17),s=n.n(a),i=n(9),o=n(2),l=n(8),u=n.n(l),j=n(11),d=n(6),h=Object(c.createContext)(["green",function(){}]),b={};var O=n(0),p=function(e){var t=e.name,n=e.animal,c=e.breed,r=e.images,a=e.location,s=e.id,o="http://pets-images.dev-apis.com/pets/none,jpg";return r.length&&(o=r[0]),Object(O.jsxs)(i.b,{to:"/details/".concat(s),className:"pet",children:[Object(O.jsx)("div",{className:"image-container",children:Object(O.jsx)("img",{src:o,alt:t})}),Object(O.jsxs)("div",{className:"info",children:[Object(O.jsx)("h1",{children:t}),Object(O.jsx)("h2",{children:"".concat(n," - ").concat(c," - ").concat(a)})]})]})},v=function(e){var t=e.pets;return Object(O.jsx)("div",{className:"search",children:t.length?t.map((function(e){return Object(O.jsx)(p,{animal:e.animal,name:e.name,breed:e.breed,images:e.images,location:"".concat(e.city,", ").concat(e.state),id:e.id},e.key)})):Object(O.jsx)("h2",{children:"No Pets Found"})})},m=["bird","cat","dog","rabbit","reptile"],x=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(d.a)(a,2),i=s[0],o=s[1],l=Object(c.useState)(""),p=Object(d.a)(l,2),x=p[0],f=p[1],g=Object(c.useState)([]),y=Object(d.a)(g,2),k=y[0],C=y[1],w=function(e){var t=Object(c.useState)([]),n=Object(d.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)("unloaded"),i=Object(d.a)(s,2),o=i[0],l=i[1];return Object(c.useEffect)((function(){function t(){return(t=Object(j.a)(u.a.mark((function t(){var n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a([]),l("loading"),t.next=4,fetch("http://pets-v2.dev-apis.com/breeds?animal=".concat(e));case 4:return n=t.sent,t.next=7,n.json();case 7:c=t.sent,b[e]=c.breeds||[],a(b[e]),l("loaded");case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e?b[e]?a(b[e]):function(){t.apply(this,arguments)}():a([])}),[e]),[r,o]}(i),S=Object(d.a)(w,1)[0],N=Object(c.useContext)(h),E=Object(d.a)(N,2),M=E[0],B=E[1];function A(){return F.apply(this,arguments)}function F(){return(F=Object(j.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://pets-v2.dev-apis.com/pets?animal=".concat(i,"&location=").concat(n,"&breed=").concat(x));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,C(c.pets);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){A()}),[]),Object(O.jsxs)("div",{className:"search-params",children:[Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),A()},children:[Object(O.jsxs)("label",{htmlFor:"location",children:["Location",Object(O.jsx)("input",{id:"location",onChange:function(e){return r(e.target.value)},value:n,placeholder:"Location"})]}),Object(O.jsxs)("label",{htmlFor:"animal",children:["Animal",Object(O.jsxs)("select",{id:"animal",value:i,onChange:function(e){return o(e.target.value)},onBlur:function(e){return o(e.target.value)},children:[Object(O.jsx)("option",{}),m.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))]})]}),Object(O.jsxs)("label",{htmlFor:"breed",children:["Breed",Object(O.jsxs)("select",{id:"breed",value:x,onChange:function(e){return f(e.target.value)},onBlur:function(e){return f(e.target.value)},children:[Object(O.jsx)("option",{}),S.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))]})]}),Object(O.jsx)("label",{htmlFor:"theme",children:Object(O.jsxs)("select",{value:M,onChange:function(e){return B(e.target.value)},onBlur:function(e){return B(e.target.value)},children:[Object(O.jsx)("option",{value:"darkblue",children:"Dark Blue"}),Object(O.jsx)("option",{value:"peru",children:"Peru"}),Object(O.jsx)("option",{value:"chartreuse",children:"Chartreuse"}),Object(O.jsx)("option",{value:"mediumorchid",children:"Medium Orchid"})]})}),Object(O.jsx)("button",{style:{backgroundColor:M},children:"Submit"})]}),Object(O.jsx)(v,{pets:k})]})},f=n(12),g=n(13),y=n(15),k=n(14),C=n(18),w=function(e){Object(y.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(f.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={active:0},e.handleIndexClick=function(t){console.log(Object(C.a)(e)),e.setState({active:+t.target.dataset.index})},e}return Object(g.a)(n,[{key:"render",value:function(){var e=this,t=this.state.active,n=this.props.images;return Object(O.jsxs)("div",{className:"carousel",children:[Object(O.jsx)("img",{src:n[t],alt:"animal"}),Object(O.jsx)("div",{className:"carousel-smaller",children:n.map((function(n,c){return Object(O.jsx)("img",{src:n,"data-index":c,onClick:e.handleIndexClick.bind(e),className:c===t?"active":"",alt:"animal thumbnail"},n)}))})]})}}]),n}(c.Component);w.defaultProps={images:["http://pets-images.dev-apis.com/pets/none.jpg"]};var S=w,N=function(e){Object(y.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(f.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1,redirect:!1},e}return Object(g.a)(n,[{key:"componentDidCatch",value:function(e,t){var n=this;console.error("Errorboundary caught an error",e,t),setTimeout((function(){return n.setState({redirect:!0})}),5e3)}},{key:"render",value:function(){return this.state.redirect?Object(O.jsx)(o.a,{to:"/"}):this.state.hasError?Object(O.jsxs)("h2",{children:["This listing has an error. ",Object(O.jsx)(i.b,{to:"/",children:"Click Here"})," to go back to the home page or wait five seconds."]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(c.Component),E=document.getElementById("modal"),M=function(e){var t=e.children,n=Object(c.useRef)(null);return n.current||(n.current=document.createElement("div")),Object(c.useEffect)((function(){return E.appendChild(n.current),function(){return E.removeChild(n.current)}}),[]),Object(a.createPortal)(Object(O.jsx)("div",{children:t}),n.current)},B=function(e){Object(y.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(f.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,showModal:!1},e.toggleModal=function(){return e.setState({showModal:!e.state.showModal})},e.adopt=function(){return window.location="http://bit.ly/pet-adopt"},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://pets-v2.dev-apis.com/pets?id=".concat(this.props.match.params.id));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState(Object.assign({loading:!1},n.pets[0]));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.loading)return Object(O.jsx)("h2",{children:"loading..."});var t=this.state,n=t.animal,c=t.breed,r=t.city,a=t.state,s=t.description,i=t.name,o=t.images,l=t.showModal;return Object(O.jsxs)("div",{className:"details",children:[Object(O.jsx)(S,{images:o}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:i}),Object(O.jsx)("h2",{children:"".concat(n," - ").concat(c," - ").concat(r,", ").concat(a)}),Object(O.jsx)(h.Consumer,{children:function(t){var n=Object(d.a)(t,1)[0];return Object(O.jsxs)("button",{onClick:e.toggleModal,style:{backgroundColor:n},children:["Adopt ",i]})}}),Object(O.jsx)("p",{children:s}),l?Object(O.jsx)(M,{children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("h1",{children:["Would you like to adopt ",i,"?"]}),Object(O.jsxs)("div",{className:"buttons",children:[Object(O.jsx)("button",{onClick:this.adopt,children:"Yes"}),Object(O.jsx)("button",{onClick:this.toggleModal,children:"No"})]})]})}):null]})]})}}]),n}(c.Component),A=Object(o.g)(B);function F(){return Object(O.jsx)(N,{children:Object(O.jsx)(A,{})})}var D=function(){var e=Object(c.useState)("darkblue");return Object(O.jsx)(h.Provider,{value:e,children:Object(O.jsx)("div",{children:Object(O.jsxs)(i.a,{children:[Object(O.jsx)("header",{children:Object(O.jsx)(i.b,{to:"/",children:Object(O.jsx)("h1",{children:"Adopt Me!"})})}),Object(O.jsxs)(o.d,{children:[Object(O.jsx)(o.b,{path:"/details/:id",children:Object(O.jsx)(F,{})}),Object(O.jsx)(o.b,{path:"/",children:Object(O.jsx)(x,{})})]})]})})})};n(36);s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(D,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.5e5d24bf.chunk.js.map